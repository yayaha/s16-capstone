<ion-view title="Edit Product">
  <ion-content>

    <div class="list">
      <label class="item item-input">
        <span class="input-label">Name: </span>
        <input type="text" ng-model="productsEditCtrl.product.name">
      </label>

      <label class="item item-input">
        <span class="input-label">Price (miles): </span>
        <input type="number" ng-model="productsEditCtrl.product.price">
      </label>

      <label class="item item-input">
        <span class="input-label">Quantity: </span>
        <input type="number" ng-model="productsEditCtrl.product.inventory">
      </label>

      <label class="item item-input">
        <span class="input-label">Location: </span>
        <input type="text" ng-model="productsEditCtrl.product.location">
      </label>

      <label class="item item-input">
        <span class="input-label">Condition: </span>
        <select ng-model="productsEditCtrl.product.condition">
          <!--<option value="" disabled>&#45;&#45;Select Category-&#45;&#45;</option>-->
          <!--<option ng-repeat="dep in productsEditCtrl.departments" value="{{dep.$id}}">{{dep.$value}}</option>-->
          <option value="New" selected>New</option>
          <option value="Used">Used</option>
        </select>
      </label>

      <label class="item item-input">
        <span class="input-label">Category: </span>
        <select ng-model="productsEditCtrl.product.departmentId"
                ng-options="dep.$id as dep.$value for dep in productsEditCtrl.departments">
          <!--<option value="" disabled>&#45;&#45;Select Category-&#45;&#45;</option>-->
          <!--<option ng-repeat="dep in productsEditCtrl.departments" value="{{dep.$id}}">{{dep.$value}}</option>-->
        </select>
      </label>

      <label class="item item-input">
        <textarea placeholder="Description" rows="8" ng-model="productsEditCtrl.product.description"></textarea>
      </label>
    </div>

      <div class="row"
           ng-repeat="i in productsEditCtrl.getNumber(productsEditCtrl.product.pictures.length + 1) track by $index"
           ng-if="$index % 4 === 0">
        <div class="col col-25" ng-if="$index < productsEditCtrl.product.pictures.length">
          <img class="image-preview" ng-src="{{productsEditCtrl.product.pictures[$index]}}"/>
        </div>
        <div class="col col-25" ng-if="$index + 1 < productsEditCtrl.product.pictures.length">
          <img class="image-preview" ng-src="{{productsEditCtrl.product.pictures[$index + 1]}}"/>
        </div>
        <div class="col col-25" ng-if="$index + 2 < productsEditCtrl.product.pictures.length">
          <img class="image-preview" ng-src="{{productsEditCtrl.product.pictures[$index + 2]}}"/>
        </div>
        <div class="col col-25" ng-if="$index + 3 < productsEditCtrl.product.pictures.length">
          <img class="image-preview" ng-src="{{productsEditCtrl.product.pictures[$index + 3]}}"/>
        </div>
        <div class="col col-25" ng-if="(!productsEditCtrl.product.pictures.length) || ($index + 3 >= productsEditCtrl.product.pictures.length)">
          <button class="button button-outline icon ion-plus" style="display: block; width: 100%; height: 0;padding: 0 0 100% 0" ng-click="productsEditCtrl.showCameraAction()"></button>
        </div>
      </div>

    <button class="button button-block button-assertive" ng-click="productsEditCtrl.save()">Save</button>
    <button class="button button-block button-outline button-assertive">Cancel</button>

  </ion-content>
</ion-view>
